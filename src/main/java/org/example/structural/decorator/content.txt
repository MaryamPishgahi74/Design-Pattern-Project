پترن دکوراتور چه موقع استفاده می‌شه؟

پاسخ: وقتی می‌خوایم قابلیت‌های جدید به یه شیء اضافه کنیم بدون اینکه کد اصلیش تغییر کنه. مثلاً برای افزودن رفتارهای پویا مثل لاگ کردن، رمزنگاری یا تغییر خروجی یه شیء (مثل مثال قهوه تو پاسخ قبلی).


مزایا و معایب پترن دکوراتور چیه؟

مزایا:

انعطاف‌پذیری بالا برای اضافه کردن قابلیت‌های جدید.
رعایت اصل باز/بسته (Open/Closed Principle) چون بدون تغییر کد اصلی، رفتار جدید اضافه می‌شه.
امکان ترکیب چندین دکوراتور به صورت زنجیره‌ای.
-----------------
یه مثال واقعی از دکوراتور تو جاوا بزن.

پاسخ: یه مثال کلاسیک، کلاس‌های InputStream در جاواست. مثلاً BufferedInputStream یه دکوراتور برای InputStream هست که قابلیت بافرینگ رو اضافه می‌کنه:
javaInputStream input = new BufferedInputStream(new FileInputStream("file.txt"));
اینجا BufferedInputStream رفتار بافرینگ رو به FileInputStream اضافه می‌کنه بدون تغییر کد اصلی.
---------